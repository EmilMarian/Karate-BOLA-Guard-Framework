2025-01-30 22:01:27,878 - __main__ - INFO - Skipping fragment creation: False
2025-01-30 22:01:27,962 - __main__ - DEBUG - Starting fragment retrieval process.
2025-01-30 22:01:28,446 - __main__ - DEBUG - Retrieved fragments: [{'content': '{"method": "PUT", "parameters": [{"description": "The ID of a project", "in": "path", "name": "id", "required": true, "schema": {"pattern": "^(\\\\d+|[^/]+(%2[fF])[^/]+)$", "type": "string"}}, {"description": "ID of MR", "in": "path", "name": "merge_request_id", "required": true, "schema": {"type": "integer"}}, {"description": "The target branch", "in": "query", "name": "target_branch", "schema": {"type": "string"}}, {"description": "Assignee user ID", "in": "query", "name": "assignee_id", "schema": {"type": "integer"}}, {"description": "Title of MR", "in": "query", "name": "title", "required": true, "schema": {"type": "string"}}, {"description": "Description of MR", "in": "query", "name": "description", "schema": {"type": "string"}}, {"description": "New state (close|reopen|merge)", "in": "query", "name": "state_event", "schema": {"enum": ["close", "reopen", "merge"], "type": "string"}}, {"description": "Labels for MR as a comma-separated list", "explode": false, "in": "query", "name": "labels", "schema": {"items": {"type": "string"}, "type": "array"}, "style": "form"}, {"description": "Milestone ID", "in": "query", "name": "milestone_id", "schema": {"type": "integer"}}], "path": "/projects/{id}/merge_requests/{merge_request_id}", "requestBody": {}, "responses": {"200": {"content": {"application/json": {"example": {"assignee": {"created_at": "2012-04-29T08:46:00Z", "email": "admin@example.com", "id": 1, "name": "Administrator", "state": "active", "username": "admin"}, "author": {"created_at": "2012-04-29T08:46:00Z", "email": "admin@example.com", "id": 1, "name": "Administrator", "state": "active", "username": "admin"}, "description": "description1", "downvotes": 0, "id": 1, "labels": [], "merge_status": "can_be_merged", "merge_when_build_succeeds": true, "milestone": {"created_at": "2015-02-02T19:49:26.013Z", "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.", "due_date": null, "id": 5, "iid": 1, "project_id": 4, "state": "closed", "title": "v2.0", "updated_at": "2015-02-02T19:49:26.013Z"}, "project_id": 3, "source_project_id": 4, "state": "opened", "subscribed": true, "target_branch": "master", "target_project_id": 4, "title": "test1", "upvotes": 0, "user_notes_count": 1, "work_in_progress": false}, "schema": {"properties": {"assignee": {"properties": {"created_at": {"type": "string"}, "email": {"type": "string"}, "id": {"type": "integer"}, "name": {"type": "string"}, "state": {"type": "string"}, "username": {"type": "string"}}, "type": "object"}, "author": {"properties": {"created_at": {"type": "string"}, "email": {"type": "string"}, "id": {"type": "integer"}, "name": {"type": "string"}, "state": {"type": "string"}, "username": {"type": "string"}}, "type": "object"}, "description": {"type": "string"}, "downvotes": {"type": "integer"}, "id": {"type": "integer"}, "iid": {"type": "integer"}, "labels": {"items": {"type": "string"}, "type": "array"}, "merge_status": {"type": "string"}, "merge_when_build_succeeds": {"type": "boolean"}, "milestone": {"properties": {"created_at": {"type": "string"}, "description": {"type": "string"}, "due_date": {"type": "string"}, "id": {"type": "integer"}, "iid": {"type": "integer"}, "project_id": {"type": "integer"}, "state": {"type": "string"}, "title": {"type": "string"}, "updated_at": {"type": "string"}}, "type": "object"}, "project_id": {"type": "integer"}, "source_branch": {"type": "string"}, "source_project_id": {"type": "integer"}, "state": {"type": "string"}, "subscribed": {"type": "boolean"}, "target_branch": {"type": "string"}, "target_project_id": {"type": "integer"}, "title": {"type": "string"}, "upvotes": {"type": "integer"}, "user_notes_count": {"type": "integer"}, "work_in_progress": {"type": "boolean"}}, "type": "object"}}}, "description": "OK"}}}', 'metadata': {'filename': '0009_projects_id_merge_requests_merge_request_id_put_200.json'}}, {'content': '{"method": "POST", "parameters": [{"description": "The ID of a project", "in": "path", "name": "id", "required": true, "schema": {"pattern": "^(\\\\d+|[^/]+(%2[fF])[^/]+)$", "type": "string"}}, {"description": "The source branch", "in": "query", "name": "source_branch", "required": true, "schema": {"type": "string"}}, {"description": "The target branch", "in": "query", "name": "target_branch", "required": true, "schema": {"type": "string"}}, {"description": "Assignee user ID", "in": "query", "name": "assignee_id", "schema": {"type": "integer"}}, {"description": "Title of MR", "in": "query", "name": "title", "required": true, "schema": {"type": "string"}}, {"description": "Description of MR", "in": "query", "name": "description", "schema": {"type": "string"}}, {"description": "The target project (numeric id)", "in": "query", "name": "target_project_id", "schema": {"type": "integer"}}, {"description": "Labels for MR as a comma-separated list", "explode": false, "in": "query", "name": "labels", "schema": {"items": {"type": "string"}, "type": "array"}, "style": "form"}, {"description": "Milestone ID", "in": "query", "name": "milestone_id", "schema": {"type": "integer"}}], "path": "/projects/{id}/merge_requests", "requestBody": {}, "responses": {"200": {"content": {"application/json": {"example": {"assignee": {"created_at": "2012-04-29T08:46:00Z", "email": "admin@example.com", "id": 1, "name": "Administrator", "state": "active", "username": "admin"}, "author": {"created_at": "2012-04-29T08:46:00Z", "email": "admin@example.com", "id": 1, "name": "Administrator", "state": "active", "username": "admin"}, "description": "fixed login page css paddings", "downvotes": 0, "id": 1, "labels": [], "merge_status": "can_be_merged", "merge_when_build_succeeds": true, "milestone": {"created_at": "2015-02-02T19:49:26.013Z", "description": "Assumenda aut placeat expedita exercitationem labore sunt enim earum.", "due_date": null, "id": 5, "iid": 1, "project_id": 4, "state": "closed", "title": "v2.0", "updated_at": "2015-02-02T19:49:26.013Z"}, "project_id": 3, "source_branch": "test1", "source_project_id": 4, "state": "opened", "subscribed": true, "target_branch": "master", "target_project_id": 4, "title": "test1", "upvotes": 0, "user_notes_count": 0, "work_in_progress": false}, "schema": {"properties": {"assignee": {"properties": {"created_at": {"type": "string"}, "email": {"type": "string"}, "id": {"type": "integer"}, "name": {"type": "string"}, "state": {"type": "string"}, "username": {"type": "string"}}, "type": "object"}, "author": {"properties": {"created_at": {"type": "string"}, "email": {"type": "string"}, "id": {"type": "integer"}, "name": {"type": "string"}, "state": {"type": "string"}, "username": {"type": "string"}}, "type": "object"}, "description": {"type": "string"}, "downvotes": {"type": "integer"}, "id": {"type": "integer"}, "iid": {"type": "integer"}, "labels": {"items": {"type": "string"}, "type": "array"}, "merge_status": {"type": "string"}, "merge_when_build_succeeds": {"type": "boolean"}, "milestone": {"properties": {"created_at": {"type": "string"}, "description": {"type": "string"}, "due_date": {"type": "string"}, "id": {"type": "integer"}, "iid": {"type": "integer"}, "project_id": {"type": "integer"}, "state": {"type": "string"}, "title": {"type": "string"}, "updated_at": {"type": "string"}}, "type": "object"}, "project_id": {"type": "integer"}, "source_branch": {"type": "string"}, "source_project_id": {"type": "integer"}, "state": {"type": "string"}, "subscribed": {"type": "boolean"}, "target_branch": {"type": "string"}, "target_project_id": {"type": "integer"}, "title": {"type": "string"}, "upvotes": {"type": "integer"}, "user_notes_count": {"type": "integer"}, "work_in_progress": {"type": "boolean"}}, "type": "object"}}}, "description": "OK"}}}', 'metadata': {'filename': '0008_projects_id_merge_requests_post_200.json'}}, {'content': '{"method": "GET", "parameters": [{"description": "The ID of a project", "in": "path", "name": "id", "required": true, "schema": {"pattern": "^(\\\\d+|[^/]+(%2[fF])[^/])$", "type": "string"}}], "path": "/projects/{id}/snippets", "requestBody": {}, "responses": {"200": {"content": {"application/json": {"example": [{"author": {"created_at": "2012-05-23T08:00:58Z", "email": "john@example.com", "id": 1, "name": "John Smith", "state": "active", "username": "john_smith"}, "created_at": "2012-06-28T10:52:04Z", "expires_at": null, "file_name": "add.rb", "id": 1, "title": "test", "updated_at": "2012-06-28T10:52:04Z", "web_url": "http://example.com/example/example/snippets/1"}], "schema": {"items": {"properties": {"author": {"properties": {"avatar_url": {"type": "string"}, "id": {"type": "integer"}, "name": {"type": "string"}, "username": {"type": "string"}, "web_url": {"type": "string"}}, "required": ["id"], "type": "object"}, "created_at": {"type": "string"}, "expires_at": {"type": "string"}, "file_name": {"type": "string"}, "id": {"type": "integer"}, "title": {"type": "string"}, "updated_at": {"type": "string"}, "web_url": {"type": "string"}}, "required": ["author", "created_at", "file_name", "id", "title", "updated_at", "web_url"], "type": "object"}, "type": "array"}}}, "description": "OK"}}}', 'metadata': {'filename': '0014_projects_id_snippets_get_200.json'}}], form collection oas_gitlab_fragments
2025-01-30 22:01:28,447 - karate_llm_test_gen - INFO - Generating Karate test for prompt: 
Given the following API endpoint information:

  ...
2025-01-30 22:01:28,448 - karate_llm_test_gen - INFO - Getting relevant examples for: 
Given the following API endpoint information:

  ...
2025-01-30 22:01:29,055 - karate_llm_test_gen - INFO - Found 3 relevant examples.
2025-01-30 22:01:29,055 - karate_llm_test_gen - INFO - Sending request to http://192.168.1.108:4893/v1/chat/completions
2025-01-30 22:01:29,057 - karate_llm_test_gen - ERROR - Error: An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,058 - __main__ - INFO - Generated Karate test for /projects/{id}/merge_requests/{merge_request_id} PUT at output/karate_feature_files/ID_001_krtestoas_projects_id_merge_requests_merge_request_id_PUT.feature
2025-01-30 22:01:29,058 - karate_compatibility_verifier - INFO - Original content:
2025-01-30 22:01:29,058 - karate_compatibility_verifier - INFO - An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,080 - karate_compatibility_verifier - ERROR - An error occurred while calling the LLM: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,080 - karate_compatibility_verifier - ERROR - 
Compatibility check failed. Using original content for syntax verification.
2025-01-30 22:01:29,082 - karate_compatibility_verifier - ERROR - An error occurred while calling the LLM: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,083 - karate_compatibility_verifier - ERROR - 
Syntax verification failed. No changes were made.
2025-01-30 22:01:29,083 - __main__ - WARNING - Compatibility issues found in output/karate_feature_files/ID_001_krtestoas_projects_id_merge_requests_merge_request_id_PUT.feature: An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,084 - karate_llm_test_gen - INFO - Generating Karate test for prompt: 
Given the following API endpoint information:

  ...
2025-01-30 22:01:29,085 - karate_llm_test_gen - INFO - Getting relevant examples for: 
Given the following API endpoint information:

  ...
2025-01-30 22:01:29,108 - karate_llm_test_gen - INFO - Found 3 relevant examples.
2025-01-30 22:01:29,109 - karate_llm_test_gen - INFO - Sending request to http://192.168.1.108:4893/v1/chat/completions
2025-01-30 22:01:29,112 - karate_llm_test_gen - ERROR - Error: An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,114 - __main__ - INFO - Generated Karate test for /projects/{id}/merge_requests POST at output/karate_feature_files/ID_002_krtestoas_projects_id_merge_requests_POST.feature
2025-01-30 22:01:29,114 - karate_compatibility_verifier - INFO - Original content:
2025-01-30 22:01:29,114 - karate_compatibility_verifier - INFO - An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,147 - karate_compatibility_verifier - ERROR - An error occurred while calling the LLM: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,147 - karate_compatibility_verifier - ERROR - 
Compatibility check failed. Using original content for syntax verification.
2025-01-30 22:01:29,151 - karate_compatibility_verifier - ERROR - An error occurred while calling the LLM: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,152 - karate_compatibility_verifier - ERROR - 
Syntax verification failed. No changes were made.
2025-01-30 22:01:29,152 - __main__ - WARNING - Compatibility issues found in output/karate_feature_files/ID_002_krtestoas_projects_id_merge_requests_POST.feature: An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,153 - karate_llm_test_gen - INFO - Generating Karate test for prompt: 
Given the following API endpoint information:

  ...
2025-01-30 22:01:29,156 - karate_llm_test_gen - INFO - Getting relevant examples for: 
Given the following API endpoint information:

  ...
2025-01-30 22:01:29,185 - karate_llm_test_gen - INFO - Found 3 relevant examples.
2025-01-30 22:01:29,185 - karate_llm_test_gen - INFO - Sending request to http://192.168.1.108:4893/v1/chat/completions
2025-01-30 22:01:29,190 - karate_llm_test_gen - ERROR - Error: An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,190 - __main__ - INFO - Generated Karate test for /projects/{id}/snippets GET at output/karate_feature_files/ID_003_krtestoas_projects_id_snippets_GET.feature
2025-01-30 22:01:29,191 - karate_compatibility_verifier - INFO - Original content:
2025-01-30 22:01:29,191 - karate_compatibility_verifier - INFO - An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,213 - karate_compatibility_verifier - ERROR - An error occurred while calling the LLM: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,213 - karate_compatibility_verifier - ERROR - 
Compatibility check failed. Using original content for syntax verification.
2025-01-30 22:01:29,215 - karate_compatibility_verifier - ERROR - An error occurred while calling the LLM: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,215 - karate_compatibility_verifier - ERROR - 
Syntax verification failed. No changes were made.
2025-01-30 22:01:29,215 - __main__ - WARNING - Compatibility issues found in output/karate_feature_files/ID_003_krtestoas_projects_id_snippets_GET.feature: An error occurred while generating the Karate test: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-01-30 22:01:29,216 - __main__ - INFO - Moving generated Karate feature files...
2025-01-30 22:01:29,217 - __main__ - INFO - Creating the Karate Test Framework with generated feature files
2025-01-30 22:01:31,582 - __main__ - INFO - Skipping karate test run.
